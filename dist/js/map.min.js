jQuery(document).ready(function (e) { function o() { function o() { e.inViewport(t) && (e(window).unbind("scroll", o), n()) } var t = e("#map"); e.inViewport(t) ? n() : e(window).bind("scroll", o) } function n() { var e = document.createElement("script"); e.type = "text/javascript", e.src = "https://maps.googleapis.com/maps/api/js?key=AIzaSyBpYpmMgxF28K2lXOxV8n7pZYD8OyH2zjk&v=3.exp&sensor=false&callback=gmap_draw", window.gmap_draw = function () { var e = new google.maps.LatLng(50.449754, 30.431529), o = { zoom: 17, center: e, panControl: !1, zoomControl: !0, scrollwheel: !1, streetViewControl: !1, scaleControl: !0, mapTypeId: google.maps.MapTypeId.ROAD }, n = new google.maps.Map(document.getElementById("map"), o), t = new google.maps.Marker({ position: e, icon: "/wp-content/themes/malteser/img/location.png", map: n }), a = new google.maps.InfoWindow({ content: '<span class="g-subtitle">МСД</div>' }); google.maps.event.addListener(t, "mouseover", function () { a.open(n, t) }), google.maps.event.addListener(t, "mouseout", function () { a.close(n, t) }), google.maps.event.addDomListener(window, "resize", function () { var e = n.getCenter(); google.maps.event.trigger(n, "resize"), n.setCenter(e) }) }, document.body.appendChild(e) } e("#map").length && o() });