jQuery(document).ready(function (e) { function t(t) { var r = t.find(".js-validate"), a = (t.find("button[type=submit]"), !0), n = {}; return n.showError = function (e) { e.parents(".g-fieldset").addClass("error") }, n.hideError = function (e) { e.parents(".g-fieldset").removeClass("error") }, n.checkRequired = function (e, t) { t.length > 0 ? n.hideError(e) : (n.showError(e), a = !1) }, n.checkEmail = function (e, t) { var r = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/; r.test(t) ? n.hideError(e) : (n.showError(e), a = !1) }, n.checkPhone = function (e, t) { var r = /^[\d\+]+[\d\(\)\ -]{4,20}\d$/; r.test(t) && t.length <= 20 ? n.hideError(e) : (n.showError(e), a = !1) }, n.init = function () { r.each(function () { var t = e(this), r = t.val(); t.hasClass("js-validate--required") && n.checkRequired(t, r), t.hasClass("js-validate--email") && n.checkEmail(t, r), t.hasClass("js-validate--phone") && n.checkPhone(t, r) }) }, n.init(), a } var r = e("#cform"); r.on("click", ".g-alert__close", function () { e(this).parents(".g-alert").hide() }), r.on("submit", function (a) { a.preventDefault(); var n = t(r); if (n) { var o = e("#cf_name").val(), i = e("#cf_mail").val(), s = e("#cf_msg").val(); e.ajax({ type: "POST", url: "/wp-content/themes/malteser/handlers/contact-form-handler.php", dataType: "json", data: { cf_name: o, cf_mail: i, cf_msg: s, captcha: grecaptcha.getResponse() }, cache: !1, beforeSend: function (e) { r.find("button[type=submit]").prop("disabled", !0) }, success: function (e) { e.error ? alert(e.error) : (r.find(".g-input, .g-textarea").val(""), r.find(".g-select option:first-child").attr("selected", !0), grecaptcha.reset(), r.find(".g-alert--ok").show()) }, error: function (e, t, a) { console.log(e.status), console.log(a), r.find(".g-alert--wrong").show() }, complete: function (e) { r.find("button[type=submit]").prop("disabled", !1) } }) } }) });