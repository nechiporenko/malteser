jQuery(document).ready(function(e){function t(t){var r=t.find(".js-validate"),a=(t.find("button[type=submit]"),!0),n={};return n.showError=function(e){e.parents(".g-fieldset").addClass("error")},n.hideError=function(e){e.parents(".g-fieldset").removeClass("error")},n.checkRequired=function(e,t){t.length>0?n.hideError(e):(n.showError(e),a=!1)},n.checkEmail=function(e,t){var r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;r.test(t)?n.hideError(e):(n.showError(e),a=!1)},n.checkPhone=function(e,t){var r=/^[\d\+]+[\d\(\)\ -]{4,20}\d$/;r.test(t)&&t.length<=20?n.hideError(e):(n.showError(e),a=!1)},n.init=function(){r.each(function(){var t=e(this),r=t.val();t.hasClass("js-validate--required")&&n.checkRequired(t,r),t.hasClass("js-validate--email")&&n.checkEmail(t,r),t.hasClass("js-validate--phone")&&n.checkPhone(t,r)})},n.init(),a}function r(t,r,n){a&&a.abort(),a=e.ajax({url:"https://script.google.com/macros/s/AKfycbz-k8SV7H-fsXo8lbEe9ieHh4heYDdz1zJC1HgBVff5saZIPObU/exec",type:"POST",data:{name:t,mail:r,msg:n}}),a.done(function(e,t,r){}),a.fail(function(e,t,r){})}var a,n=e("#cform");n.on("click",".g-alert__close",function(){e(this).parents(".g-alert").hide()}),n.on("submit",function(a){a.preventDefault();var o=t(n);if(o){var i=e("#cf_name").val(),s=e("#cf_mail").val(),c=e("#cf_msg").val();e.ajax({type:"POST",url:"/wp-content/themes/malteser/handlers/contact-form-handler.php",dataType:"json",data:{cf_name:i,cf_mail:s,cf_msg:c,captcha:grecaptcha.getResponse()},cache:!1,beforeSend:function(e){n.find("button[type=submit]").prop("disabled",!0)},success:function(e){e.error?alert(e.error):(n.find(".g-input, .g-textarea").val(""),n.find(".g-select option:first-child").attr("selected",!0),grecaptcha.reset(),n.find(".g-alert--ok").show(),r(i,s,c))},error:function(e,t,r){console.log(e.status),console.log(r),n.find(".g-alert--wrong").show()},complete:function(e){n.find("button[type=submit]").prop("disabled",!1)}})}})});